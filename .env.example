# ANCIENT NERDS - Research Platform - Environment Configuration
# Copy this file to .env and fill in your values
#
# SECURITY WARNING: Never commit .env files with real credentials to git!
# This .env.example file contains only placeholder values.

# =============================================================================
# DATABASE
# =============================================================================
POSTGRES_USER=ancient_map
POSTGRES_PASSWORD=<generate-secure-password>
POSTGRES_DB=ancient_map
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Full database URL (constructed from above or set directly)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# REDIS (for rate limiting & caching)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
API_RELOAD=false

# Secret key for JWT tokens (generate with: openssl rand -hex 32)
API_SECRET_KEY=<generate-with-openssl-rand-hex-32>

# CORS origins (comma-separated)
API_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# RATE LIMITING
# =============================================================================
# Requests per day for each tier
RATE_LIMIT_ANONYMOUS=100
RATE_LIMIT_FREE=1000
RATE_LIMIT_PRO=50000
RATE_LIMIT_ENTERPRISE=0  # 0 = unlimited

# =============================================================================
# DATA PIPELINE
# =============================================================================
# Directory for raw downloaded data
DATA_RAW_DIR=./data/raw

# Directory for processed data
DATA_PROCESSED_DIR=./data/processed

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# =============================================================================
# EXTERNAL API KEYS (REQUIRED)
# =============================================================================
# Mapbox - for map tiles (https://account.mapbox.com/access-tokens/)
MAPBOX_ACCESS_TOKEN=<your-mapbox-token>

# Cloudflare Turnstile (bot protection)
# Get keys at: https://dash.cloudflare.com/?to=/:account/turnstile
# Use test keys for development: 1x0000000000000000000000000000000AA
TURNSTILE_SECRET_KEY=<your-turnstile-secret-key>

# Smithsonian Open Access API - for museum artifacts
# Get your free key at: https://api.si.edu/
SMITHSONIAN_API_KEY=<your-smithsonian-api-key>

# =============================================================================
# AI AGENT CONFIGURATION
# =============================================================================
# Valid PINs for AI agent access (JSON format: {"PIN": "username"})
# Example: {"1234": "Alice", "5678": "Bob"}
# Generate secure PINs - do not use sequential or obvious numbers
AI_VALID_PINS={"<pin1>": "<username1>"}

# Session timeout in seconds (default: 1 hour)
AI_SESSION_TTL=3600

# Stale connection timeout in seconds (default: 5 minutes)
AI_STALE_TIMEOUT=300

# =============================================================================
# QDRANT VECTOR DATABASE
# =============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333

# =============================================================================
# WEB SEARCH (SearXNG - Self-hosted, FREE FOREVER)
# =============================================================================
# Start with: docker compose up searxng
# Or manually: docker run -d --name searxng -p 8888:8080 searxng/searxng
SEARXNG_URL=http://localhost:8888
SEARXNG_PORT=8888

# Embedding model for vector search
EMBEDDING_MODEL=all-MiniLM-L6-v2

# =============================================================================
# LLM CONFIGURATION (Ollama)
# =============================================================================
# Ollama server URL
OLLAMA_HOST=http://localhost:11434

# Model to use (change this to switch models)
# Options: qwen2.5:1.5b, qwen2.5:3b, qwen2.5:7b, llama3.2:1b, llama3.2:3b,
#          phi3:mini, mistral:7b, gemma2:2b
OLLAMA_MODEL=qwen2.5:3b

# Request timeout in seconds
OLLAMA_TIMEOUT=120

# =============================================================================
# PGADMIN (development only - not for production!)
# =============================================================================
PGADMIN_EMAIL=admin@localhost
PGADMIN_PASSWORD=<change-this-password>
PGADMIN_PORT=5050
